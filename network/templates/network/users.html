{% extends "network/layout.html" %}
{% load static %}

{% block body %}

<ul>
    {% for user in users %}
    {% if user != request.user %}
    <li><a href="{% url 'user' user_id=user.id %}">{{ user }}</a> -
        
        <form method="POST" id="follow-form" action="{% url 'follow' %}">{% csrf_token %}
            <input type="hidden" name="follow" value="{{ user.id }}">
            <button id="user-{{ user.id }}" class=button type="submit">
                {% for follow in following %}
                {% if follow == user %}
                    Unfollow
                {% else %}
                    Follow
                {% endif %}
                {% endfor %}
            </button>
        </form>
    </li>
    {% endif %}
    {% endfor %}
</ul>

{% endblock %}